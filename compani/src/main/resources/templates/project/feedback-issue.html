<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="/plugins/tables/css/datatable/dataTables.bootstrap4.min.css" rel="stylesheet">
<style>

/* .card-body {
	text-align: center;
} */

.progress.mb-3 {
	margin-top: 10px;
}

.issuTtl {
	text-align: left;
}

</style>

</head>
<body>
	<th:block layout:fragment="content">
		<div class="row">
			<div class="col-lg-8">
				<div class="column">
					<!-- 이슈 데이터 - 시작 -->
					<div class="row">
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body" style="padding-bottom: 42px;">
									<h4 class="card-title">총 이슈 개수</h4>
									<span th:text="${projectStatus.issuCnt}"> </span>
								</div>
							</div>
						</div>
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body" style="padding-bottom: 0px;">
									<h4 class="card-title">해결 이슈</h4>
									<span th:text="|${projectStatus.issuSolveCnt} / ${projectStatus.issuCnt}|"> </span>
									<div class="progress mb-3">
										<div class="progress-bar bg-warning active progress-bar-striped" role="progressbar">
											<span class="sr-only"></span>
                                    	</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body" style="padding-bottom: 0px;">
									<h4 class="card-title">미해결 이슈</h4>
									<span th:text="|${projectStatus.issuUnsolveCnt} / ${projectStatus.issuCnt}|"> </span>
									<div class="progress mb-3">
										<div class="progress-bar bg-warning active progress-bar-striped" role="progressbar">
											<span class="sr-only"></span>
                                    	</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body" style="padding-bottom: 0px;">
									<h4 class="card-title">해결불가 이슈</h4>
									<span th:text="|${projectStatus.issuUnsolvableCnt} / ${projectStatus.issuCnt}|"> </span>
									<div class="progress mb-3">
										<div class="progress-bar bg-warning active progress-bar-striped" role="progressbar">
											<span class="sr-only"></span>
                                    	</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- 이슈 데이터 - 끝 -->
					
					<!-- 이슈 리스트 시작 -->
                   	<!-- <div class="row">
	                    <div class="col-12">
		                   	<div class="card">
		                       	<div class="card-body">
									<div class="table-responsive">
									<div class="dataTables_wrapper container-fluid dt-bootstrap4">
									<div class="row">
										<div class="col-sm-12 col-md-6">
											<div class="dataTables_length">
												<label>
													Show 
													<select name="DataTables_Table_0_length" class="form-control form-control-sm">
														<option value="10">10</option>
														<option value="25">25</option>
														<option value="50">50</option>
													</select>
													 entries
												</label>
											</div> 
										</div>
										<div class="col-sm-12 col-md-6">
											<div class="dataTables_filter">
												<label>
													검색:
													<input type="search" class="form-control form-control-sm">
												</label>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<table class="table table-striped table-bordered zero-configuration">
												<thead>
													<tr>
														<th style="width: 5%;">#</th>
														<th>제목</th>
														<th style="width: 10%;">종류</th>
														<th style="width: 10%;">상태</th>
														<th style="width: 10%;">작성자</th>
														<th style="width: 10%;">작성일</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="info : ${projectFeedbackIssueList}" role="row">
														<td class="issueListTr"></td>
														<td th:text="${info.issuTtl}" class="issuTtl"></td>
														<td class="issuKnd">
															<span th:text="${info.issuKnd}"></span>
														</td>
														<td class="issuSt">
															<span th:text="${info.issuSt}"></span>
														</td>
														<td th:text="${info.membNm}"></td>
														<td th:text="${#dates.format(info.issuDt, 'yy.MM.dd')}"></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
		                            <div class="row">
										<div class="col-sm-12 col-md-5">
											
										</div>
										<div class="col-sm-12 col-md-7">
										
										</div>
									</div>
									</div>
									</div>
								</div>
							</div>
						</div>
					</div> -->
					            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Data Table</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered zero-configuration">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Position</th>
                                                <th>Office</th>
                                                <th>Age</th>
                                                <th>Start date</th>
                                                <th>Salary</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Tiger Nixon</td>
                                                <td>System Architect</td>
                                                <td>Edinburgh</td>
                                                <td>61</td>
                                                <td>2011/04/25</td>
                                                <td>$320,800</td>
                                            </tr>
                                            <tr>
                                                <td>Garrett Winters</td>
                                                <td>Accountant</td>
                                                <td>Tokyo</td>
                                                <td>63</td>
                                                <td>2011/07/25</td>
                                                <td>$170,750</td>
                                            </tr>
                                            <tr>
                                                <td>Ashton Cox</td>
                                                <td>Junior Technical Author</td>
                                                <td>San Francisco</td>
                                                <td>66</td>
                                                <td>2009/01/12</td>
                                                <td>$86,000</td>
                                            </tr>
                                            <tr>
                                                <td>Cedric Kelly</td>
                                                <td>Senior Javascript Developer</td>
                                                <td>Edinburgh</td>
                                                <td>22</td>
                                                <td>2012/03/29</td>
                                                <td>$433,060</td>
                                            </tr>
                                            <tr>
                                                <td>Airi Satou</td>
                                                <td>Accountant</td>
                                                <td>Tokyo</td>
                                                <td>33</td>
                                                <td>2008/11/28</td>
                                                <td>$162,700</td>
                                            </tr>
                                            <tr>
                                                <td>Brielle Williamson</td>
                                                <td>Integration Specialist</td>
                                                <td>New York</td>
                                                <td>61</td>
                                                <td>2012/12/02</td>
                                                <td>$372,000</td>
                                            </tr>
                                            <tr>
                                                <td>Herrod Chandler</td>
                                                <td>Sales Assistant</td>
                                                <td>San Francisco</td>
                                                <td>59</td>
                                                <td>2012/08/06</td>
                                                <td>$137,500</td>
                                            </tr>
                                            <tr>
                                                <td>Rhona Davidson</td>
                                                <td>Integration Specialist</td>
                                                <td>Tokyo</td>
                                                <td>55</td>
                                                <td>2010/10/14</td>
                                                <td>$327,900</td>
                                            </tr>
                                            <tr>
                                                <td>Colleen Hurst</td>
                                                <td>Javascript Developer</td>
                                                <td>San Francisco</td>
                                                <td>39</td>
                                                <td>2009/09/15</td>
                                                <td>$205,500</td>
                                            </tr>
                                            <tr>
                                                <td>Sonya Frost</td>
                                                <td>Software Engineer</td>
                                                <td>Edinburgh</td>
                                                <td>23</td>
                                                <td>2008/12/13</td>
                                                <td>$103,600</td>
                                            </tr>
                                            <tr>
                                                <td>Jena Gaines</td>
                                                <td>Office Manager</td>
                                                <td>London</td>
                                                <td>30</td>
                                                <td>2008/12/19</td>
                                                <td>$90,560</td>
                                            </tr>
                                            <tr>
                                                <td>Quinn Flynn</td>
                                                <td>Support Lead</td>
                                                <td>Edinburgh</td>
                                                <td>22</td>
                                                <td>2013/03/03</td>
                                                <td>$342,000</td>
                                            </tr>
                                            <tr>
                                                <td>Charde Marshall</td>
                                                <td>Regional Director</td>
                                                <td>San Francisco</td>
                                                <td>36</td>
                                                <td>2008/10/16</td>
                                                <td>$470,600</td>
                                            </tr>
                                            <tr>
                                                <td>Haley Kennedy</td>
                                                <td>Senior Marketing Designer</td>
                                                <td>London</td>
                                                <td>43</td>
                                                <td>2012/12/18</td>
                                                <td>$313,500</td>
                                            </tr>
                                            <tr>
                                                <td>Tatyana Fitzpatrick</td>
                                                <td>Regional Director</td>
                                                <td>London</td>
                                                <td>19</td>
                                                <td>2010/03/17</td>
                                                <td>$385,750</td>
                                            </tr>
                                            <tr>
                                                <td>Michael Silva</td>
                                                <td>Marketing Designer</td>
                                                <td>London</td>
                                                <td>66</td>
                                                <td>2012/11/27</td>
                                                <td>$198,500</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Name</th>
                                                <th>Position</th>
                                                <th>Office</th>
                                                <th>Age</th>
                                                <th>Start date</th>
                                                <th>Salary</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
					<!-- 이슈 리스트 끝 -->
				</div>
			</div>
			<!-- Comment Area -->
			<div class="col-lg-4">
	        	<div class="card"  style="height:80vh;">
	        		<div class="card-header bg-white">
                    	<h5 class="card-title">Card title</h5>
                    	<h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                	</div>
	            	<div class="card-body" style="overflow-y:auto; background-color:#FAFAFA;">
	            		<div class="card">
		                	<div class="card-body">
		                		<div class="media">
		                        	<div class="media-body">
										<h5 class="mt-0">Media heading</h5>
										Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin.
										 Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
										 Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
		                                <div class="media mt-3">
		                                	<div class="media-body">
		                                    	<h5 class="mt-0">Media heading</h5>
	                                    		Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin.
	                                    		 Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
	                                    		 Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
		                                	</div>
		                            	</div>
									</div>
								</div>
							</div>
						</div>
					</div>
	            	<div class="card-footer">
			            <p class="card-text d-inline">
			            	<small class="text-muted">Last updated 3 mins ago</small>
			            </p>
			            <a href="#" class="card-link float-right"><small>Card link</small></a>
		            </div>
	        	</div>
			</div>
	    	<!-- Comment Area End -->
		</div>
	
	
	<script th:inline="javascript">
	let issueList = [[${projectFeedbackIssueList}]];
	
	/*----------------------------
		업무리스트 정렬
	------------------------------*/
	let stripedBar1 = 100 * [[${projectStatus.issuSolveCnt}]] / [[${projectStatus.issuCnt}]];
	let stripedBar2 = 100 * [[${projectStatus.issuUnsolveCnt}]] / [[${projectStatus.issuCnt}]];
	let stripedBar3 = 100 * [[${projectStatus.issuUnsolvableCnt}]] / [[${projectStatus.issuCnt}]];
	
	$('.progress-bar.bg-warning.active.progress-bar-striped').eq(0).css("width", stripedBar1+'%');
	$('.progress-bar.bg-warning.active.progress-bar-striped').eq(1).css("width", stripedBar2+'%');
	$('.progress-bar.bg-warning.active.progress-bar-striped').eq(2).css("width", stripedBar3+'%');
	
	/*----------------------------
		업무리스트 넘버링
	------------------------------*/
	for(let i=0; i<issueList.length; i++){
		$('.issueListTr').eq(i).append(i+1);
	}
	
	/*----------------------------
		데이터 디자인
	------------------------------*/
	for(let i=0; i<issueList.length; i++){
		
		if($('.issuKnd').eq(i).children('span').text() == '버그'){
			$('.issuKnd').eq(i).children('span').addClass('badge badge-danger');
		} else if($('.issuKnd').eq(i).children('span').text() == '개선사항'){
			$('.issuKnd').eq(i).children('span').addClass('badge badge-warning');
		} else if($('.issuKnd').eq(i).children('span').text() == '새기능'){
			$('.issuKnd').eq(i).children('span').addClass('badge badge-info');
		} else if($('.issuKnd').eq(i).children('span').text() == '업무'){
			$('.issuKnd').eq(i).children('span').addClass('badge badge-light');
		}
		
		if($('.issuSt').eq(i).children('span').text() == '해결'){
			$('.issuSt').eq(i).children('span').addClass('badge badge-pill badge-success');
		} else if($('.issuSt').eq(i).children('span').text() == '미해결'){
			$('.issuSt').eq(i).children('span').addClass('badge badge-pill badge-dark');
		} else if($('.issuSt').eq(i).children('span').text() == '해결불가'){
			$('.issuSt').eq(i).children('span').addClass('badge badge-pill badge-secondary');
		}
		
	}
	
	</script>
	<script src="/plugins/tables/js/jquery.dataTables.min.js"></script>
    <script src="/plugins/tables/js/datatable/dataTables.bootstrap4.min.js"></script>
    <script src="/plugins/tables/js/datatable-init/datatable-basic.min.js"></script>
	</th:block>
	

</body>
</html>